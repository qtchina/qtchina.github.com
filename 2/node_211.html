
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>CLISP语言中的字符串</title>
</head>
<body>
<p>CLISP中的字符串是一种特定类型的VECTOR,它的元素是字符。</p><br />
<br />
<ol><br />
<li>字符串比较<br />
<br />
<p>字符串的比较基于字符的比较。</p><br />
<br />
<p>但是对于双重母音却与通常的自然规则不同，如：</p><br />
<br />
<p>o &lt; oe &lt; z &lt; ö</p><br />
<br />
<p>字符串比较函数：</p></li><br />
</ol><br />
<br />
<ul><br />
<li><strong>string=</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; generalized-boolean   相等比较</li><br />
<br />
<li><strong>string/=</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index      不等比较</li><br />
<br />
<li>string&lt; string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index       小于比较</li><br />
<br />
<li>string&gt; string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index     大于比较</li><br />
<br />
<li>string&lt;= string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index     小于或等于比较</li><br />
<br />
<li>string&gt;= string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index     大于或等于比较</li><br />
<br />
<li><strong>string-equal</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; generalized-boolean  相等比较</li><br />
<br />
<li><strong>string-not-equal</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index   不等比较</li><br />
<br />
<li><strong>string-lessp</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index    小于比较</li><br />
<br />
<li><strong>string-greaterp string1</strong> string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index   大于比较</li><br />
<br />
<li><strong>string-not-greaterp</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-index  小于或等于比较，不大于比较</li><br />
<br />
<li><strong>string-not-lessp</strong> string1 string2 &amp;key start1 end1 start2 end2 ==&gt; mismatch-inde   大于或等于比较，不小于比较</li><br />
<br />
</ul><br />
<br />
<p><strong>注：</strong></p><br />
<br />
<ul><br />
<li>&amp;key 表示后面的参数都是可选参数。</li><br />
<li>在上面几个函数中，如果指定了可选参数，表示拿子串来比较。</li><br />
<li>mismatch-index 表示不匹配的开始字符位置。</li><br />
<li>generalized-boolean 表示返回值为一布尔类型值。</li><br />
</ul><br />
<br />
<ol><br />
<br />
<li>函数 EXT:STRING-WIDTH<br />
<br />
<p>(EXT:STRING-WIDTH string &amp;KEY start end)  返回字符串占用字节数。</p><br />
<br />
<p>它的值是为字符串中每个字符的 CHAR-WIDTH 值的和。</p></li><br />
<br />
<li>函数 EXT:STRING-INVERTCASE 和 EXT:NSTRING-INVERTCASE<br />
<br />
<p>(EXT:STRING-INVERTCASE string &amp;KEY start end) 和 (EXT:NSTRING-INVERTCASE string &amp;KEY start end)</p><br />
<br />
<p>这两个函数与字符操作函数 CHAR-INVERTCASE 类似。</p><br />
<br />
<p>它的值为字符串中每个字符的 CHAR-INVERTCASE 组成的字符串。</p><br />
<br />
<p>相关的函数还有：STRING-UPCASE , STRING-DOWNCASE</p></li><br />
<br />
<li>字符串截取，连接函数<br />
<br />
<p>SUBSTRING string start &amp;key end  ==&gt;子串</p><br />
<br />
<p>使用 format 函数进行字符串连接操作：</p><br />
<br />
<p>CL&gt; (format nil &quot;~a~a&quot; &quot;ab&quot; &quot;cd&quot;)<br />
<br />
&quot;abcd&quot;</p><br />
<br />
<p>还可以直接调用C 库的方法。</p><br />
<br />
<p>取字符串的字符函数：</p><br />
<br />
<p>char string index ==&gt; character</p><br />
<br />
<p>schar string index ==&gt; character</p><br />
<br />
<p>取字符串string 中第 index  位的字符。</p><br />
<br />
<p>相关函数： elt  sequence index  序列中的 index 位的对象</p><br />
<br />
<p>(setq str (copy-seq &quot;0123456789&quot;)) ==&gt;  &quot;0123456789&quot;<br />
(setf (elt str 0) #\#) ==&gt;  #\#    替换了0为 #</p><br />
<br />
<p>相关函数： aref array &amp;rest subscripts ==&gt; element</p><br />
<br />
<p>取得数组中的一个元素</p><br />
<br />
<blockquote><br />
<p class="quoted">(char s j) ==  (aref (the string s) j)</p><br />
</blockquote></li><br />
<br />
<li>字符串清理<br />
<br />
<p>STRING-TRIM character-bag string ==&gt; trimmed-string</p><br />
<br />
<p>STRING-LEFT-TRIM</p><br />
<br />
<p>STRING-RIGHT-TRIM</p><br />
<br />
<p>分别将字符串两头，左边，右边的包含在 character-bag中的字符去掉。</p></li><br />
</ol><br />

</body>
</html>
