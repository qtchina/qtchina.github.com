
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>在 gentoo Linux上编译Google chrome 浏览器</title>
</head>
<body>
在 gentoo Linux上编译Google chrome 浏览器<br />
<br />
1. 准备相关工具。<br />
<br />
    安装subversion, python, perl. g++, bison, flex, gperf, libnss3-dev<br />
    <br />
    如果已经安装，则可以跳过这一步。<br />
<br />
2. 下载Google chrome 浏览器源代码<br />
<br />
    源码根路径： $CHROMIUM_ROOT<br />
<br />
    mkdir -p $CHROMIUM_ROOT<br />
    <br />
    svn co http://src.chromium.org/svn/trunk/depot_tools/linux $CHROMIUM_ROOT<br />
<br />
    这一步花几秒钟的时间。<br />
<br />
    cd $CHROMIUM_ROOT<br />
<br />
    设置源代码svn路径：<br />
<br />
    ./gclient config http://src.chromium.org/svn/trunk/src<br />
<br />
    这一步花几秒钟的时间。<br />
<br />
    从svn同步最新源代码到当前目录（$CHROMIUM_ROOT）<br />
<br />
    ./gclient sync<br />
<br />
    这一步花几十分钟，或者几个小时都可能，需要下载大概2.6G的数据。<br />
<br />
3. 开始编译：<br />
<br />
    cd src/chrome<br />
    <br />
    编译release版本的 chrome 浏览器：<br />
    <br />
    ../../hammer --mode=opt<br />
<br />
    或者也可以编译debug版本的 chrome 浏览器：<br />
<br />
    ../../hammer <br />
<br />
    这步花几十分钟，或者几个小时不等，占用硬盘空间2G左右，最大占用内存约2G。<br />
<br />
4. 执行测试：<br />
<br />
    我的编译过程中间没有出现问题，直接编译出来了 chrome 可执行程序，debug版本的 chrome 有318M。<br />
<br />
    编译完 debug 版本的 chrome 后，一共占用硬盘空间5G。<br />
<br />
    编译出来的 chrome 程序放在 $CHROMIUM_ROOT/src/chrome/Hammer/目录下，<br />
<br />
    运行 $CHROMIUM_ROOT/src/chrome/Hammer/chrome<br />
<br />
    运行成功，能打开几个简单的网站，但极不稳定，还有许多debug信息输出，某些网站的中文显示也是乱码。<br />
<br />
    附图： http://www.kaixin001.com/photo/album.php?albumid=6702666<br />
<br />
        <br />
<br />
参考：<br />
<br />
    1. http://dclavijo.blogspot.com/2008/09/google-chrome-para-linux.html (2008-09-05)<br />
<br />
    2. http://code.google.com/p/chromium/wiki/LinuxBuildInstructions  (2009-03-13)
</body>
</html>
