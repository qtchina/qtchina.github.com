
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>NullGet 1.2.0-alpha</title>
</head>
<body>
<table ><tr><td><div  style="line-height:160%">
<p>　　svn 源代码仓库： svn co https://nullget.svn.sourceforge.net/svnroot/nullget nullget <br />
镜像站点： svn co   http://gforge.osdn.net.cn/svn/nullget/ nullget </p>
<p>　　如果你还没有安装subversion , 请到subversion站点<a href="http://subversion.tigris.org/" target="_blank">http://subversion.tigris.org/</a>下载最新版本并安装。</p>

	</div>
</td></tr></table>

<?php

$a_url = "http://sourceforge.net/project/showfiles.php?group_id=204368&package_id=243873";
$a_url = "http://sourceforge.net/projects/nullget/files/";

// echo $a_url . "\n";

$a_c = file($a_url);

// print_r($a_c);

$blno = -1;
$elno = 0;
if(!$a_c || count($a_c) == 0 ) {
	//echo "Page error. Refresh please.";
        echo '<a href="http://sourceforge.net/projects/nullget/files/" target="_blank">SourceForge.net Nullfxp Download page</a>';
}else{
	foreach($a_c as $lno => $lv) {
		//if(trim($lv) == '<a name="downloads"></a>') {
		//	$blno = $lno;
		//}
		if(strstr(trim($lv), "<div class=\"sfBox rBox\">") != null) {
			$blno = $lno;
		}

		//if(trim($lv) == '<div id="fadbtmp">&nbsp;</div>') {
		//	$elno = $lno;
		//}
		if($blno > 0) {
			if(trim($lv) == "</table>") {
				$elno = $lno+1;
			}
		}

		if($blno > 0 ) {
			if($lno == $blno+1 ) {

				$lv = str_replace("border=\"0\"", "border=\"1\"",  $lv);

			}

			if($elno == 0 || $lno < $elno) {

				if(strstr($lv, "href=\"/") != null) {

					$lv = str_replace("href=\"/",  "href=\"http://sf.net/", $lv);

				}

				if(strstr($lv, "href=\"show") != null) {

					$lv = str_replace("href=\"show", "href=\"http://sf.net/project/show",  $lv);

				}

				if(strstr($lv, "href=\"mirror") != null) {

					$lv = str_replace("href=\"mirror", "target=\"_blank\" href=\"http://sf.net/project/mirror",$lv);

				}
				if(strstr($lv, "onClick=\"window.location") != null) {
					$lv = str_replace("window.location='", "window.location='http://sf.net",$lv);
				}
				echo $lv;
			}
		}
	}
    echo "</div></div>";
}

?>

</body>
</html>
