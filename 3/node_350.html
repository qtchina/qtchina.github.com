
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>在x86上成功使用gentoo系统上安装的grub2启动 Mac OS X Leopard 10.5.7</title>
</head>
<body>
机器： thinkpad w500 
环境：
/dev/sda1   gentoo-x86_64
/dev/sda2   iAKTKOS v7 10.5.7

grub2 安装在MBR, 在gentoo上安装grub-9999.ebuild, 修改grub-9999.ebuil, 添加configure参数--disable-werror,避免编译因警告停止编译安装。
由于grub2默认不支持efiemu,修改grub-9999.ebuild, 将--disable-efiemu改为--enable-efiemu。

emerge -v grub

安装完grub后，使用grub-install /dev/sda将grub2安装在MBR中。

mac os x菜单如下：

menuentry "Mac OS X" {
        set root=(hd0,2)
        insmod efiemu
        insmod video
        insmod vbe
        gfxmode="1024x768x32"
        xnu_kernel /mach_kernel rd=disk0s2
        if [ /System/Library/Extensions.mkext -nt /System/Library/Extensions ]; then
                xnu_mkext /System/Library/Extensions.mkext
        else
                xnu_kextdir /System/Library/Extensions
        fi
}

重启即可进入Leopard了。
现在启动Mac OS X Leopard的时候是字符模式，也像linux一样大量的信息输出，没有了原来的Leopard启动画面了，不过效果一样的，不影响启动后的系统使用。

</body>
</html>
