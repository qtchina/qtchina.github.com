
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>在x86上成功使用gentoo系统上安装的grub2启动 Mac OS X Leopard 10.5.7</title>
</head>
<body>
机器： thinkpad w500 <br />
环境：<br />
/dev/sda1   gentoo-x86_64<br />
/dev/sda2   iAKTKOS v7 10.5.7<br />
<br />
grub2 安装在MBR, 在gentoo上安装grub-9999.ebuild, 修改grub-9999.ebuil, 添加configure参数--disable-werror,避免编译因警告停止编译安装。<br />
由于grub2默认不支持efiemu,修改grub-9999.ebuild, 将--disable-efiemu改为--enable-efiemu。<br />
<br />
emerge -v grub<br />
<br />
安装完grub后，使用grub-install /dev/sda将grub2安装在MBR中。<br />
<br />
mac os x菜单如下：<br />
<br />
menuentry "Mac OS X" {<br />
        set root=(hd0,2)<br />
        insmod efiemu<br />
        insmod video<br />
        insmod vbe<br />
        gfxmode="1024x768x32"<br />
        xnu_kernel /mach_kernel rd=disk0s2<br />
        if [ /System/Library/Extensions.mkext -nt /System/Library/Extensions ]; then<br />
                xnu_mkext /System/Library/Extensions.mkext<br />
        else<br />
                xnu_kextdir /System/Library/Extensions<br />
        fi<br />
}<br />
<br />
重启即可进入Leopard了。<br />
现在启动Mac OS X Leopard的时候是字符模式，也像linux一样大量的信息输出，没有了原来的Leopard启动画面了，不过效果一样的，不影响启动后的系统使用。<br />

</body>
</html>
