<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf8'>
        <title>sphinx 全文检索最新svn版本中文分词移植</title>
        <meta name="Keywords" content="Qt5,C/C++,Linux,PHP,Web架构,高性能,分布式,NullGet,WebNullGet,qtchina,Qt,下载软件,多线程下载软件,多协议下载软件,MMS下载,RTSP下载,HTTP下载,HTTPS下载,FTP下载,分块下载,在线视频下载软件，流媒体下载软件,Qt 4,China,Qt 4 Solution,Qt 4 解决方案" />
        <meta name="robots" content="all" />
        <meta name="googlebot" content="all" /> 
        <link rel="stylesheet" href="../css/base.css" type="text/css" />
    </head>
<body>

<table width="80%" height="80 px" align="center">
  <tr>
    <td>
      <div id="branding"><strong><a href="/">
        <img src="../images/nullget_labs.gif" alt="www.qtchina.tk" title="www.qtchina.tk" id="logo" />
        <span>www.qtchina.net</span>            </a></strong></div>
      </div>
    </td>
  </tr>
</table>

<table width="80%" align="center">
  <tr>
    <td>
      <h2>sphinx 全文检索最新svn版本中文分词移植</h2>
    </td>
  </tr>

  <tr>
    <td>
      发布： 2010-09-19 22:16
    </td>
  </tr>

  <tr>
    <td width="50%">
      <br />
近期的空闲时间都用在全文检索上了.用了几天晚上熟悉回忆了以前设计过的一个中文全文检索引擎,到上周未用了两天的时间,把coreseek的中文分词模块移植到了sphinx-svn-r2473版本.<br />
做这个移植的原因主要是,sphinx现在的beta版本提供了许多优秀强大的功能,但一直没有发正式版本,但设计中需要这些非常好的功能,所以做了下移植工作.<br />
本次中文分词模块的移植基础以coreseek-3.2.3版本为中文分词模块的原本,以sphinx-svn-r2473为核心的移植.移植过程还比较简单,在于coreseek和sphinx关于分词的模块都做的相对比较好,因此,只需要根据中文模块在sphinx原版基础加入相关的分词模块文件,或者是加入几行代码即可.<br />
另外,在这些移植中,由于希望以改动最小的情况下实现其中文分词功能,再一个对python不太熟悉,自己使用的时候暂时没有列入讨巧,并没有把coreseek中的python数据源移植过来.<br />
虽说比较简单,移植过程还是一个地方出了点问题,那就是复杂的sphinx.cpp文件.从sphinx-0.9.9到sphinx-1.1x.x版本,还是变化挺大,有几个函数的原型都变了,类的成员变量稍有点变动,经过一次测试,认真对比coreseek-3.2.3如何添加的分词模块,阅读了一些sphinx-svn中相关的代码,才最后解决.<br />
目前已经做出一个demo,在做索引及客户端搜索时都能用到中文分词模块的分词功能, 另外还能用到sphinx-1.x beta的新功能. 库中有12w数据,共计150M索引,搜索5,6个中文词速度也很快,在0.010秒左右.这个结果还是很满意.<br />
计划把这个做成一个产品的形式,还有许多工作要做, 本站点的数据已经导入到索引库,再做成熟一点,加入外围的相关接口后,把本站的全文搜索入口指向这个demo.<br />
现在这个demo已经在服务器上测试运行,由于结构尚未定型,经常重启动,没有多少数据的说服力等等,暂时先不放出来.等再整理一个这个最小的中文分词patch,一块放出来.<br />

    </td>
  </tr>
  <tr>
    <td>
      <br /><br />
      原文： <a href='http://qtchina.tk/?q=node/508'>http://qtchina.tk/?q=node/508</a>
    </td>
  </tr>

</table>

<p></p>
<p></p>
<p></p>
<table width="60%"><tr><td  align="center">
  <div>
    <span>Powered by <a href="http://qtchina.tk">zexport</a></span>  </div>
  </div>
  </td></tr></table>

<br />
<div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51467019-1', 'qtchina.github.io');
  ga('send', 'pageview');

</script>

</div>
</body>
</html>
