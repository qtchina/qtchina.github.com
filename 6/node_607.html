<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf8'>
        <title>Tom-Skype附加功能分析</title>
        <meta name="Keywords" content="Qt5,C/C++,Linux,PHP,Web架构,高性能,分布式,NullGet,WebNullGet,qtchina,Qt,下载软件,多线程下载软件,多协议下载软件,MMS下载,RTSP下载,HTTP下载,HTTPS下载,FTP下载,分块下载,在线视频下载软件，流媒体下载软件,Qt 4,China,Qt 4 Solution,Qt 4 解决方案" />
        <meta name="robots" content="all" />
        <meta name="googlebot" content="all" /> 
        <link rel="stylesheet" href="../css/base.css" type="text/css" />
    </head>
<body>

<table width="80%" height="80 px" align="center">
  <tr>
    <td>
      <div id="branding"><strong><a href="/">
        <img src="../images/nullget_labs.gif" alt="www.qtchina.net " title="www.qtchina.net " id="logo" />
        <span>www.qtchina.net</span>            </a></strong></div>
      </div>
    </td>
  </tr>
</table>

<table width="80%" align="center">
  <tr>
    <td>
      <h2>Tom-Skype附加功能分析</h2>
    </td>
  </tr>

  <tr>
    <td>
      发布： 2011-11-15 22:21
    </td>
  </tr>

  <tr>
    <td width="50%">
      <br />
Tom-Skype是原版Skype的改造版本，版本更新速度基本能与原版Skype保持一致，大概比原版迟3个月。<br />
<br />
其实Tom-Skype在最近两年来的版本更新没有加入什么新功能，不过是把旧功能移植到新的版本中。<br />
<br />
Tom-Skype改造版本附加功能，<br />
1. 弹窗广告，对应skmsg.dll<br />
2. VOIP网络电话，对应sksip.dll<br />
3. 体制词语过滤，sktransfer.dll<br />
4. 客户系统信息收集，sktransfer.dll<br />
<br />
<br />
我日前接触过前两个改造功能（变态功能改造我没有参加），<br />
就这两个功能，说明一下TOM-Skype与原版Skype的区别与差别。<br />
<br />
1. 弹窗广告，<br />
   这种广告模式是一种比较老的广告收入模式，在一些软件还存在，但知名软件越来越少用这种比较令人讨厌的方式。<br />
   不过仍旧能给有一定客户使用人群的软件来说，还是比较稳定的营收方式。<br />
<br />
   这部分完全是由Tom开发的功能，所有的开发，管理维护工作全是TOM来做的。<br />
<br />
    这模块分两个阶段，目前正在使用的是一套推送模式的架构。<br />
<br />
    现在我接手的正在开发测试的模式，是使用拉取广告的形式，广告由后台生成，索引文件存放在CDN中，Tom-Skype客户端运行时定时从服务器获取广告索引目录，根据广告的投放时间，选择合适的时间弹出广告。<br />
<br />
    第二种方式推送成功率相对高，对服务器压力也不会太大，并且对服务器的负载有一定的分散作用。<br />
<br />
2. VOIP电话功能模块。<br />
<br />
   这个功能主要经历了三个阶段，<br />
<br />
   一、与skype欧洲官方合作阶段，本阶段的使用方法相关于走的Skypeout系统，把请求转到Tom-Skype计费服务器。<br />
<br />
      这种方式能提供的语音接近Skypeout的质量，曾经带来不少的收入。<br />
      但由于这种方式并不是Skype欧洲官方愿意做的，在2010年中，这种服务方式被停止。<br />
<br />
   二、Tom-Skype开发的基于pjsip的sip语音引擎，实现比较简单直接的并且符合sip标准的语音引擎。<br />
      由于这种方式，对复杂的网络情况难于处理，所以在使用这种方式后，Tom-Skype能提供的VOIP电话语音质量立即下降，以致于用户大量的投诉，用户大量的流失。<br />
      这种方式要想改进，必须要攻破像防火墙穿透，语音中继功能，否则，对于网络情况不太好的地区和时段内，语音质量基本没法用了。<br />
<br />
    三、在这个时候，我参与进来的。根据要解决的问题，基于Skype的PC-2-PC功能，由我独立设计出一套语音质量可与Skype的PC-2-PC相比的模式。<br />
       这种方式能提供非常清晰的语音，借助Skype绕过了防火墙问题与语音的中继问题，在测试过程中表现非常好。<br />
<br />
       这种方式有一定的缺点，一台服务器能负载的通话线路有限，大概4核4G的服务器，能负载20路同时通话，能得到理想的效果。<br />
<br />
       <br />

    </td>
  </tr>
  <tr>
    <td>
      <br /><br />
      原文： <a href='http://nullget.sourceforge.net/?q=node/607'>http://nullget.sourceforge.net/?q=node/607</a>
    </td>
  </tr>

</table>

<p></p>
<p></p>
<p></p>
<table width="60%"><tr><td  align="center">
  <div>
    <span>Powered by <a href="http://nullget.sourceforge.net">zexport</a></span>  </div>
  </div>
  </td></tr></table>

<br />
<div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51467019-1', 'qtchina.github.io');
  ga('send', 'pageview');

</script>

</div>
</body>
</html>
