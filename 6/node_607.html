
<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
<title>Tom-Skype附加功能分析</title>
</head>
<body>
Tom-Skype是原版Skype的改造版本，版本更新速度基本能与原版Skype保持一致，大概比原版迟3个月。

其实Tom-Skype在最近两年来的版本更新没有加入什么新功能，不过是把旧功能移植到新的版本中。

Tom-Skype改造版本附加功能，
1. 弹窗广告，对应skmsg.dll
2. VOIP网络电话，对应sksip.dll
3. 体制词语过滤，sktransfer.dll
4. 客户系统信息收集，sktransfer.dll


我日前接触过前两个改造功能（变态功能改造我没有参加），
就这两个功能，说明一下TOM-Skype与原版Skype的区别与差别。

1. 弹窗广告，
   这种广告模式是一种比较老的广告收入模式，在一些软件还存在，但知名软件越来越少用这种比较令人讨厌的方式。
   不过仍旧能给有一定客户使用人群的软件来说，还是比较稳定的营收方式。

   这部分完全是由Tom开发的功能，所有的开发，管理维护工作全是TOM来做的。

    这模块分两个阶段，目前正在使用的是一套推送模式的架构。

    现在我接手的正在开发测试的模式，是使用拉取广告的形式，广告由后台生成，索引文件存放在CDN中，Tom-Skype客户端运行时定时从服务器获取广告索引目录，根据广告的投放时间，选择合适的时间弹出广告。

    第二种方式推送成功率相对高，对服务器压力也不会太大，并且对服务器的负载有一定的分散作用。

2. VOIP电话功能模块。

   这个功能主要经历了三个阶段，

   一、与skype欧洲官方合作阶段，本阶段的使用方法相关于走的Skypeout系统，把请求转到Tom-Skype计费服务器。

      这种方式能提供的语音接近Skypeout的质量，曾经带来不少的收入。
      但由于这种方式并不是Skype欧洲官方愿意做的，在2010年中，这种服务方式被停止。

   二、Tom-Skype开发的基于pjsip的sip语音引擎，实现比较简单直接的并且符合sip标准的语音引擎。
      由于这种方式，对复杂的网络情况难于处理，所以在使用这种方式后，Tom-Skype能提供的VOIP电话语音质量立即下降，以致于用户大量的投诉，用户大量的流失。
      这种方式要想改进，必须要攻破像防火墙穿透，语音中继功能，否则，对于网络情况不太好的地区和时段内，语音质量基本没法用了。

    三、在这个时候，我参与进来的。根据要解决的问题，基于Skype的PC-2-PC功能，由我独立设计出一套语音质量可与Skype的PC-2-PC相比的模式。
       这种方式能提供非常清晰的语音，借助Skype绕过了防火墙问题与语音的中继问题，在测试过程中表现非常好。

       这种方式有一定的缺点，一台服务器能负载的通话线路有限，大概4核4G的服务器，能负载20路同时通话，能得到理想的效果。

       

</body>
</html>
