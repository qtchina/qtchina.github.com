<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf8'>
        <title>drupal6.15 -> drupal7.12升级过程记录</title>
        <link rel="stylesheet" href="../css/base.css" type="text/css" />
    </head>
<body>

<table width="80%" height="80 px" align="center">
  <tr>
    <td>
      <div id="branding"><strong><a href="/">
        <img src="../images/nullget_labs.gif" alt="www.qtchina.net " title="www.qtchina.net " id="logo" />
        <span>www.qtchina.net</span>            </a></strong></div>
      </div>
    </td>
  </tr>
</table>

<table width="80%" align="center">
  <tr>
    <td>
      <h2>drupal6.15 -> drupal7.12升级过程记录</h2>
    </td>
  </tr>

  <tr>
    <td>
      发布： 2012-03-19 21:28
    </td>
  </tr>

  <tr>
    <td width="50%">
      <br />
自的的升级说明非常全面了，完全按照说明升级，没有出现什么大的问题，注意备份数据。<br />
<br />
由于原来使用的theme没有相应的7.x版本的，现在先使用drupal 7.x默认的界面，有时间再换界面皮肤。<br />
<br />
1. drupal6.15->drupal6.25<br />
<br />
备份数据库<br />
<br />
备份drupal的sites配置目录。<br />
<br />
备份themes和modules中的息定义模块。<br />
<br />
<br />
2. 以root用户登陆站点， 准备第10步设置。在这期间不能关闭浏览器，防止登陆状态丢失。<br />
<br />
3. 设置站点为offline模式。<br />
<br />
<br />
4. 如是使用了自定义的theme，先设置为核心自带的theme，Bluemarine.<br />
<br />
5. 关闭所有自定义模块。<br />
<br />
6. 删除旧版本的所有程序文件及目录。<br />
<br />
7. 解压新版本的程序文件及目录，放在之前的安装位置。<br />
<br />
8. 把备份的files和sites还原。<br />
<br />
9. 确认还原的配置文件没有问题。<br />
<br />
10. 开始访问update.php，如果不行，检查是否在settings.php开启升级。<br />
<br />
11. 开始升级所有的自定义模块。注意跨大版本的升级的时候，注意模块的兼容性。<br />
<br />
12. 开启自定义模块，并重新执行update.php，以便升级模块的数据库 。<br />
<br />
13. 开启自定义theme，如果不兼容，则想办法升级解决之。<br />
<br />
14. 设置站点状态为online模式。<br />
<br />
最后，最好把update.php文件心个不容易被猜到的名字。<br />
<br />
接下来实现从6.x->7.x的升级，<br />
以下是特别要注意的;<br />
<br />
使用garland主题<br />
<br />
关闭所有非core模块<br />
<br />
 
    </td>
  </tr>
  <tr>
    <td>
      <br /><br />
      原文： <a href='http://nullget.sourceforge.net/?q=node/639'>http://nullget.sourceforge.net/?q=node/639</a>
    </td>
  </tr>

</table>

<p></p>
<p></p>
<p></p>
<table width="60%"><tr><td  align="center">
  <div>
    <span>Powered by <a href="http://nullget.sourceforge.net">zexport</a></span>  </div>
  </div>
  </td></tr></table>

<br />
<div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51467019-1', 'qtchina.github.io');
  ga('send', 'pageview');

</script>

</div>
</body>
</html>
