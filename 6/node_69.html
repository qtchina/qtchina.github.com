<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf8'>
        <title>制做FreeBSD DVD的方法，适合喜欢用package安装软件的朋友</title>
        <link rel="stylesheet" href="../css/base.css" type="text/css" />
    </head>
<body>

<table width="80%" height="80 px" align="center">
  <tr>
    <td>
      <div id="branding"><strong><a href="/">
        <img src="../images/nullget_labs.gif" alt="www.qtchina.net " title="www.qtchina.net " id="logo" />
        <span>www.qtchina.net</span>            </a></strong></div>
      </div>
    </td>
  </tr>
</table>

<table width="80%" align="center">
  <tr>
    <td>
      <h2>制做FreeBSD DVD的方法，适合喜欢用package安装软件的朋友</h2>
    </td>
  </tr>

  <tr>
    <td>
      发布： 2007-07-16 16:43
    </td>
  </tr>

  <tr>
    <td width="50%">
      <br />
<p>出于安装方便，自己小小研究了一下FreeBSD两张CD的结构，通常需要CD2的情况是在安装CD1上的package时需要安装CD2上的某些package才会被用到，并且安装期间很容易出现频繁的置换两张CD，现代光驱那个出舱认盘速度，还是稍微懒得恭维。所以得出自己一个简单的、为了实现方便安装package的、制作单张FreeBSD DVD的方法，现分享给大家：</p><br />
<p>制作平台是win32 + ultraISO =&gt; freebsd6.2。其实可以用任何编辑ISO的软件，如果配合一个虚拟光驱来测试镜像，制作起来会更方便些。</p><br />
<p>步骤：<br /><br />
１.将CD2中的packages文件夹完整的复制到计算机硬盘的一个临时位置；<br /><br />
２.编辑 刚复制到硬盘的packages文件夹中的INDEX文件，这个是关键，它记录了一个FreeBSD发行版所有package的光盘位置的信息，安装package判断在CD1还是CD2就是靠这个文件来判断的；<br /><br />
３.现在我们找一个文本编辑器将他打开，搜索并将&ldquo;|2&rdquo;替换为&ldquo;|1&rdquo;，从字面上看就能明白，就是将指向到CD2的package修改为指向CD1，因为我们只有一张DVD：）<br /><br />
４.用ulrtaISO(或其他编辑镜像的软件)打开CD1,将刚才复制到硬盘上的CD2的packages文件夹追加到CD1中，确保CD1的packages包含了发行版CD1和CD2所有packages的文件，并且INDEX文件是刚才我们编辑过的文件（CD2和CD1的packages文件夹下的INDEX文件是一样的）；<br /><br />
５.忽略CD2下的cdrom.inf，它已被遗弃；<br /><br />
６.保存镜像 -&gt; [测试镜像] -&gt; 刻录光盘 -&gt; 完成。</p><br />
<p>Freebsd 6.2做出来的DVD文件大小，在wxp下看是1.62GB。</p><br />
<p>附注：<br /><br />
最好不要把CD1和CD2都复制到硬盘中搞整合，因为某些朋友会忘记光盘的启动区的设置。并且，要知道FreeBSD是区分文件大小写的，以前在做FreeBSD6.1DVD的时候，CD2中包含一个docs的文件夹，在Win32下做镜像碰到了同目录下同名但大小写不同的文件被覆盖的问题。FreeBSD的CD2中只剩下了packages的文件夹，我在制作的时候没有再碰到这个问题，但不确保CD1中会否有类似的情况，所以建议直接用ultraiso或类似软件往镜像里追加文件。</p>
    </td>
  </tr>
  <tr>
    <td>
      <br /><br />
      原文： <a href='http://nullget.sourceforge.net/?q=node/69'>http://nullget.sourceforge.net/?q=node/69</a>
    </td>
  </tr>

</table>

<p></p>
<p></p>
<p></p>
<table width="60%"><tr><td  align="center">
  <div>
    <span>Powered by <a href="http://nullget.sourceforge.net">zexport</a></span>  </div>
  </div>
  </td></tr></table>

<br />
<div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51467019-1', 'qtchina.github.io');
  ga('send', 'pageview');

</script>

</div>
</body>
</html>
