<!DOCTYPE HTML>
<html>
    <head>
        <meta charset='utf8'>
        <title>第一章 开始（布局物件）</title>
        <meta name="Keywords" content="Qt5,C/C++,Linux,PHP,Web架构,高性能,分布式,NullGet,WebNullGet,qtchina,Qt,下载软件,多线程下载软件,多协议下载软件,MMS下载,RTSP下载,HTTP下载,HTTPS下载,FTP下载,分块下载,在线视频下载软件，流媒体下载软件,Qt 4,China,Qt 4 Solution,Qt 4 解决方案" />
        <meta name="robots" content="all" />
        <meta name="googlebot" content="all" /> 
        <link rel="stylesheet" href="../css/base.css" type="text/css" />
    </head>
<body>

<table width="80%" height="80 px" align="center">
  <tr>
    <td>
      <div id="branding"><strong><a href="/">
        <img src="../images/nullget_labs.gif" alt="www.qtchina.tk" title="www.qtchina.tk" id="logo" />
        <span>www.qtchina.net</span>            </a></strong></div>
      </div>
    </td>
  </tr>
</table>

<table width="80%" align="center">
  <tr>
    <td>
      <h2>第一章 开始（布局物件）</h2>
    </td>
  </tr>

  <tr>
    <td>
      发布： 2008-05-29 22:22
    </td>
  </tr>

  <tr>
    <td width="50%">
      <br />
<h3 style="margin: 12pt 0cm 3pt; text-indent: 0cm; line-height: 150%; tab-stops: 0cm"><a class="FCK__AnchorC FCK__AnchorC" name="ch01lev1sec3"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: Arial; mso-hansi-font-family: Arial">布局物件</span></a></h3><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">在这一部分，我们将创建一个小的应用程序实例示范如何用布局来管理物件在窗口中的几何形状和如何用信号与槽来同步两个物件。这个程序询问用户的年龄，用户可以通过操作一个</span><span lang="EN-US">(spin box) </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">或者一个</span><span lang="EN-US">(slider)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">来输入自己的年龄。</span></font></font></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><a name="iddle1116"></a><a name="iddle1354"></a><a name="iddle1424"></a><a name="iddle2277"></a><a name="iddle3663"></a><a name="iddle4866"></a><a name="iddle4868"></a><a name="iddle4869"></a><a name="iddle4870"></a><a name="iddle4878"></a><a name="iddle4882"></a><a name="iddle4883"></a><a name="iddle4886"></a><a name="iddle5564"></a><a name="iddle5583"></a><a name="iddle6124"></a><a name="iddle6159"></a><a name="iddle6160"></a><a name="iddle6161"></a><a name="iddle6213"></a><a name="iddle6216"></a><a name="iddle6238"></a><a name="iddle6352"></a><a name="iddle6429"></a><a name="iddle6836"></a><a name="iddle7100"></a><a name="iddle7101"></a><a name="iddle7102"></a><a name="iddle7234"></a><a class="FCK__AnchorC FCK__AnchorC" name="iddle7292"><span style="mso-bookmark: iddle7234"><span style="mso-bookmark: iddle7102"><span style="mso-bookmark: iddle7101"><span style="mso-bookmark: iddle7100"><span style="mso-bookmark: iddle6836"><span style="mso-bookmark: iddle6429"><span style="mso-bookmark: iddle6352"><span style="mso-bookmark: iddle6238"><span style="mso-bookmark: iddle6216"><span style="mso-bookmark: iddle6213"><span style="mso-bookmark: iddle6161"><span style="mso-bookmark: iddle6160"><span style="mso-bookmark: iddle6159"><span style="mso-bookmark: iddle6124"><span style="mso-bookmark: iddle5583"><span style="mso-bookmark: iddle5564"><span style="mso-bookmark: iddle4886"><span style="mso-bookmark: iddle4883"><span style="mso-bookmark: iddle4882"><span style="mso-bookmark: iddle4878"><span style="mso-bookmark: iddle4870"><span style="mso-bookmark: iddle4869"><span style="mso-bookmark: iddle4868"><span style="mso-bookmark: iddle4866"><span style="mso-bookmark: iddle3663"><span style="mso-bookmark: iddle2277"><span style="mso-bookmark: iddle1424"><span style="mso-bookmark: iddle1354"><span style="mso-bookmark: iddle1116"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">这个应用程序包含三个物件：一个</span> </font></font></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><font size="3"><font face="宋体"><tt><span lang="EN-US">QSpinBox</span></tt><span lang="EN-US">, </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">一个</span> <tt><span lang="EN-US">QSlider</span></tt><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">，和一个</span> <tt><span lang="EN-US">QWidget</span></tt><span lang="EN-US">. </span><tt><span lang="EN-US">QWidget</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">是该应用程序的主窗口。</span><tt><span lang="EN-US">QSpinBox</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span> <tt><span lang="EN-US">QSlider</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">被放置在</span><span lang="EN-US">QWidget</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">中；它们是</span><span lang="EN-US"> QWidget </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">的孩子。或者，我们可以这么说</span><span lang="EN-US"> QWidget </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">是</span><span lang="EN-US"> Q</span><tt><span lang="EN-US">SpinBox</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span><tt><span lang="EN-US">QSlider </span>的父亲</tt><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">。</span><tt><span lang="EN-US">QWidget</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">没有自己的父亲，因为它被用作一个顶级窗口。</span><tt><span lang="EN-US">QWidget</span></tt><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和它所有的子类的构造函数接受一个指向其父物件的</span> <tt><span lang="EN-US">QWidget *</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">指针作为参数。</span></font></font></p><br />
<h5 style="margin: 12pt 0cm 3pt; text-indent: 0cm; line-height: 150%; text-align: center; tab-stops: 0cm" align="center"><a class="FCK__AnchorC FCK__AnchorC" name="ch01fig04"><span lang="EN-US"><em><font face="Times" size="4">Figure 1.4. </font></em></span></a><span lang="EN-US"><em><font face="Times" size="4">The Age application</font></em></span></h5><br />
<p class="doctext" style="margin: 14pt 0cm; line-height: 150%; text-align: center" align="center"><span lang="EN-US"><v:shapetype id="_x0000_t75" stroked="f" filled="f" path="m@4@5l@4@11@9@11@9@5xe" o:preferrelative="t" o:spt="75" coordsize="21600,21600"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path o:connecttype="rect" gradientshapeok="t" o:extrusionok="f"></v:path><o:lock aspectratio="t" v:ext="edit"></o:lock></v:shapetype><v:shape id="_x0000_i1025" style="width: 182.25pt; height: 54.75pt" type="#_x0000_t75" filled="t"><em><font size="4"><font face="Times"><v:fill color2="black"></v:fill><v:imagedata o:title="" src="file:///C:DOCUME~1ADMINI~1LOCALS~1Tempmsohtml1�1clip_image001.png"><img class="" height="73" width="243" alt="" src="/upfile/image/age.jpg" /></v:imagedata></font></font></em></v:shape></span></p><br />
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: 150%"><span lang="EN-US"><o:p><font face="Times" size="3">&nbsp;</font></o:p></span></p><br />
<p class="doctext" style="margin: 14pt 0cm; line-height: 150%"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体"><font face="宋体" size="3">下面是本程序的源代码：</font></span></p><br />
<pre style="line-height: 150%"><span lang="EN-US"><font size="3"><font face="宋体"><span style="mso-spacerun: yes">&nbsp;</span>1 #include &lt;QApplication&gt;</font></font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 2 #include &lt;QHBoxLayout&gt;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 3 #include &lt;QSlider&gt;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 4 #include &lt;QSpinBox&gt;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 5 int main(int argc, char *argv[])</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 6 {</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 7<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QApplication app(argc, argv);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 8<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QWidget *window = new QWidget;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3"> 9<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>window-&gt;setWindowTitle(&quot;Enter Your Age&quot;);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">10<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QSpinBox *spinBox = new QSpinBox;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">11<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QSlider *slider = new QSlider(Qt::Horizontal);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">12<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>spinBox-&gt;setRange(0, 130);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">13<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>slider-&gt;setRange(0, 130);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">14<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QObject::connect(spinBox, SIGNAL(valueChanged(int)),</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">15<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>slider, SLOT(setValue(int)));</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">16<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QObject::connect(slider, SIGNAL(valueChanged(int)),</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">17<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>spinBox, SLOT(setValue(int)));</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">18<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>spinBox-&gt;setValue(35);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">19<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>QHBoxLayout *layout = new QHBoxLayout;</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">20<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>layout-&gt;addWidget(spinBox);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">21<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>layout-&gt;addWidget(slider);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">22<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>window-&gt;setLayout(layout);</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">23<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>window-&gt;show();</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">24<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>return app.exec();</font></span></pre><br />
<pre style="line-height: 150%"><span lang="EN-US"><font face="宋体" size="3">25 }</font></span></pre><br />
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: 150%"><span lang="EN-US"><o:p><font face="Times" size="3">&nbsp;</font></o:p></span></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">第</span><span lang="EN-US">8</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和第</span><span lang="EN-US">9</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">行创建一个</span> <tt><span lang="EN-US">QWidget </span></tt><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">作为这个应用程序的主窗口。我们调用</span><span lang="EN-US">s</span><tt><span lang="EN-US">etWindowTitle()</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">方法来设置要在窗口的标题栏中显示的文本。</span></font></font></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><a name="iddle1581"></a><a name="iddle1816"></a><a name="iddle4599"></a><a name="iddle6292"></a><a class="FCK__AnchorC FCK__AnchorC" name="iddle6358"><span style="mso-bookmark: iddle6292"><span style="mso-bookmark: iddle4599"><span style="mso-bookmark: iddle1816"><span style="mso-bookmark: iddle1581"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">第</span><span lang="EN-US"> 10 </span></font></font></span></span></span></span></a><font size="3"><font face="宋体"><span style="mso-bookmark: iddle6358"><span style="mso-bookmark: iddle6292"><span style="mso-bookmark: iddle4599"><span style="mso-bookmark: iddle1816"><span style="mso-bookmark: iddle1581"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span><span lang="EN-US"> 11 </span></span></span></span></span></span><span style="mso-bookmark: iddle6358"><span style="mso-bookmark: iddle6292"><span style="mso-bookmark: iddle4599"><span style="mso-bookmark: iddle1816"><span style="mso-bookmark: iddle1581"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">行创建一个</span> </span></span></span></span></span><tt><span lang="EN-US">QSpinBox</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和一个</span> <tt><span lang="EN-US">QSlider </span>物件</tt><span lang="EN-US">, </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">行</span><span lang="EN-US"> 12 </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span><span lang="EN-US"> 13 </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">设置了它们的有效范围。我们可以安全地假设用户最大有</span><span lang="EN-US">130</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">岁。</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">我们可以传递窗口</span><span style="mso-ansi-language: #00FF">(window)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">参数给</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">QSpinBox</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">和</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">QSlider</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的构造函数，明确的指定这些物件以窗口</span><span style="mso-ansi-language: #00FF">(window)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">作为它们的父亲，但这不是必需的，因为布局系统将自行指定这些并且自动设置</span><span style="mso-ansi-language: #00FF">(spin box)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">和</span><span style="mso-ansi-language: #00FF">(slider)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的父亲，很快我们就会看到这一点。</span><span style="mso-ansi-language: #00FF"><o:p></o:p></span></font></font></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">行</span><span style="mso-ansi-language: #00FF">14</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">和</span><span style="mso-ansi-language: #00FF">17</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">中的两个</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">QObject::connect()</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">调用确保了</span><span style="mso-ansi-language: #00FF">(spin box) </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">和</span><span style="mso-ansi-language: #00FF"> (slider)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">是同步的，所以它们总是显示相同的数值。每当一个物件的数值改变时，它的</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">valueChanged(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">信号将发出，而另一物件的</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">setValue(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">槽将用这个新的数值作为参数被调用。</span><span style="mso-ansi-language: #00FF"><o:p></o:p></span></font></font></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">行</span><span style="mso-ansi-language: #00FF"> 18 </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">设置</span><span style="mso-ansi-language: #00FF">(spin box)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的值为</span><span style="mso-ansi-language: #00FF">35</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">。当这个改变发生时，</span><tt><span style="mso-ansi-language: #00FF">QSpinBox</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">物件就会发出</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">valueChanged(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">以整数</span><span style="mso-ansi-language: #00FF">35</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">为参数值的信号。这个参数被传递给</span><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">QSlider 的</span></tt><span style="mso-ansi-language: #00FF"> </span><tt><span style="mso-ansi-language: #00FF">setValue(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">槽，设置</span><span style="mso-ansi-language: #00FF">(slider)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的值为</span><span style="mso-ansi-language: #00FF">35</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">。然后，</span><span style="mso-ansi-language: #00FF">(slider)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">发出</span><tt><span style="mso-ansi-language: #00FF">valueChanged(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">信号，因为它的值改变了，触发</span><span style="mso-ansi-language: #00FF">(spin box)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的</span><tt><span style="mso-ansi-language: #00FF">setValue(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">但是在这个时候，</span><tt><span style="mso-ansi-language: #00FF">setValue(int)</span></tt><span style="mso-ansi-language: #00FF"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">不发出任何信号，因为</span><span style="mso-ansi-language: #00FF">(spin box)</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">的值已经是</span><span style="mso-ansi-language: #00FF">35</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体; mso-ansi-language: #00FF">了。</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">这样就预防了无限制的循环</span><span lang="EN-US"><a href="mk:@MSITStore:E:%5CMyDocuments%5CStudy%5CSystem%20&amp;%20App%20programing%5C(Qt)Prentice.Hall.PTR.C.plus.plus.GUI.Programming.with.Qt.4.Jun.2006.chm::/0131872494/ch01lev1sec3.html#ch01fig05%23ch01fig05"><span style="mso-field-code: ' HYPERLINK 'mk:@msitstore:e:MyDocumentsStudySystem &amp; App programing(qt)prentice.hall.ptr.c.plus.plus.gui.programming.with.qt.4.jun.2006.chm::/0131872494/ch01lev1sec3.html'l Ȭh01fig05%23ch01fig05''"><span style="mso-field-code: ' HYPERLINK 'mk:@msitstore:e:MyDocumentsStudySystem &amp; App programing(qt)prentice.hall.ptr.c.plus.plus.gui.programming.with.qt.4.jun.2006.chm::/0131872494/ch01lev1sec3.html'l Ȭh01fig05%23ch01fig05''"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">图</span> 1.5</span></span></a></span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">总结了这个过程。</span></font></font></p><br />
<h5 style="margin: 12pt 0cm 3pt; text-indent: 0cm; line-height: 150%; text-align: center; tab-stops: 0cm" align="center"><a class="FCK__AnchorC FCK__AnchorC" name="ch01fig05"><em><font size="4"><font face="Times"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: Times; mso-hansi-font-family: Times">图</span><span lang="EN-US"> 1.5. Changing one widget</span></font></font></em></a><span lang="EN-US"><em><font face="Times" size="4">'s value changes both</font></em></span></h5><br />
<p class="doctext" style="margin: 14pt 0cm; line-height: 150%; text-align: center" align="center"><span lang="EN-US"><v:shape id="_x0000_i1026" style="width: 225pt; height: 234.75pt" type="#_x0000_t75" filled="t"><em><font size="4"><font face="Times"><v:fill color2="black"></v:fill><v:imagedata o:title="" src="file:///C:DOCUME~1ADMINI~1LOCALS~1Tempmsohtml1�1clip_image003.png"><img class="" alt="" src="/upfile/image/widget_s_value.jpg" /></v:imagedata></font></font></em></v:shape></span></p><br />
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: 150%"><span lang="EN-US"><o:p><font face="Times" size="3">&nbsp;</font></o:p></span></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">从</span><span lang="EN-US">19</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">到</span><span lang="EN-US">22</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">行，我们用一个布局管理器布局了</span><span lang="EN-US"> spin box </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span><span lang="EN-US"> slider </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">物件。一个布局管理器是一个设置在它的责任范围内的物件的大小和位置的对象。</span><span lang="EN-US">Qt </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">有三个主要的布局管理器类：</span></font></font></p><br />
<p class="doclist" style="margin: 14pt 0cm 0pt 36pt; text-indent: -18pt; line-height: 150%; tab-stops: 36.0pt; mso-list: l1 level1 lfo2"><a name="iddle1298"></a><a name="iddle1451"></a><a name="iddle1980"></a><a name="iddle2595"></a><a name="iddle2688"></a><a name="iddle2699"></a><a name="iddle3039"></a><a name="iddle3040"></a><a name="iddle3045"></a><a name="iddle3057"></a><a name="iddle3555"></a><a name="iddle3574"></a><a name="iddle4352"></a><a name="iddle4360"></a><a name="iddle5127"></a><a name="iddle5128"></a><a name="iddle5449"></a><a name="iddle5565"></a><a name="iddle5739"></a><a name="iddle5806"></a><a name="iddle5857"></a><a name="iddle5872"></a><a name="iddle6125"></a><a name="iddle7132"></a><a class="FCK__AnchorC FCK__AnchorC" name="iddle7241"><span style="mso-bookmark: iddle7132"><span style="mso-bookmark: iddle6125"><span style="mso-bookmark: iddle5872"><span style="mso-bookmark: iddle5857"><span style="mso-bookmark: iddle5806"><span style="mso-bookmark: iddle5739"><span style="mso-bookmark: iddle5565"><span style="mso-bookmark: iddle5449"><span style="mso-bookmark: iddle5128"><span style="mso-bookmark: iddle5127"><span style="mso-bookmark: iddle4360"><span style="mso-bookmark: iddle4352"><span style="mso-bookmark: iddle3574"><span style="mso-bookmark: iddle3555"><span style="mso-bookmark: iddle3057"><span style="mso-bookmark: iddle3045"><span style="mso-bookmark: iddle3040"><span style="mso-bookmark: iddle3039"><span style="mso-bookmark: iddle2699"><span style="mso-bookmark: iddle2688"><span style="mso-bookmark: iddle2595"><span style="mso-bookmark: iddle1980"><span style="mso-bookmark: iddle1451"><span style="mso-bookmark: iddle1298"><span lang="EN-US" style="font-size: 10pt; line-height: 150%; font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol; mso-bidi-font-size: 12.0pt"><span style="mso-list: Ignore">&middot;<span style="font: 7pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><tt><span lang="EN-US"><font face="宋体" size="3">QHBoxLayout</font></span></tt></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></a><font size="3"><font face="宋体"><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">用于从左至右水平布局物件（对于有的文化背景是从右至左）</span></font></font></p><br />
<p class="doclist" style="margin: 0cm 0cm 0pt 36pt; text-indent: -18pt; line-height: 150%; tab-stops: 36.0pt; mso-list: l1 level1 lfo2"><span lang="EN-US" style="font-size: 10pt; line-height: 150%; font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol; mso-bidi-font-size: 12.0pt"><span style="mso-list: Ignore">&middot;<span style="font: 7pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><font size="3"><font face="宋体"><tt><span lang="EN-US">QVBoxLayout</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">用于从上至下垂直布局物件。</span></font></font></p><br />
<p class="doclist" style="margin: 0cm 0cm 14pt 36pt; text-indent: -18pt; line-height: 150%; tab-stops: 36.0pt; mso-list: l1 level1 lfo2"><span lang="EN-US" style="font-size: 10pt; line-height: 150%; font-family: Symbol; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol; mso-bidi-font-size: 12.0pt"><span style="mso-list: Ignore">&middot;<span style="font: 7pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><font size="3"><font face="宋体"><tt><span lang="EN-US">QGridLayout</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">在网格中布局。</span></font></font></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">在</span><span lang="EN-US">22</span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">行调用</span> <tt><span lang="EN-US">QWidget::setLayout()</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">在窗口中安装布局管理器。在幕后，</span><tt><span lang="EN-US">QSpinBox</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span> <tt><span lang="EN-US">QSlider </span>被重新布局为已经安装了布局管理器的<span lang="EN-US"> QWidget </span>的子类，基于这个原因当我们构建一个物件用来放置一个布局管理器时我们不需要具体指定一个显式的父类。<span lang="EN-US"><o:p></o:p></span></tt></font></font></p><br />
<h5 style="margin: 12pt 0cm 3pt; text-indent: 0cm; line-height: 150%; text-align: center; tab-stops: 0cm" align="center"><a class="FCK__AnchorC FCK__AnchorC" name="ch01fig06"><em><font size="4"><font face="Times"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: Times; mso-hansi-font-family: Times">图</span><span lang="EN-US"> 1.6. The Age application</span></font></font></em></a><span lang="EN-US"><em><font face="Times" size="4">'s widgets</font></em></span></h5><br />
<p class="doctext" style="margin: 14pt 0cm; line-height: 150%; text-align: center" align="center"><span lang="EN-US"><v:shape id="_x0000_i1027" style="width: 237pt; height: 51pt" type="#_x0000_t75" filled="t"><em><font size="4"><font face="Times"><v:fill color2="black"></v:fill><v:imagedata o:title="" src="file:///C:DOCUME~1ADMINI~1LOCALS~1Tempmsohtml1�1clip_image005.png"><img class="" height="68" width="316" alt="" src="/upfile/image/age_application.jpg" /></v:imagedata></font></font></em></v:shape></span></p><br />
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; line-height: 150%"><span lang="EN-US"><o:p><font face="Times" size="3">&nbsp;</font></o:p></span></p><br />
<p class="doctext" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0"><font size="3"><font face="宋体"><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">尽管我们没有明确地设置任何物件的位置和大小，</span><tt><span lang="EN-US">QSpinBox</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">和</span> <tt><span lang="EN-US">QSlider</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">并排地呈现出恰当的布局。这是因为</span> <tt><span lang="EN-US">QHBox-Layout</span></tt><span lang="EN-US"> </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体">按照它们的需求自动为它所管理的物件设置了一个合理的位置和大小。布局管理器将我们从应用程序繁杂的屏幕位置编码中释放出来并确保窗口可以平滑的改变大小。</span></font></font></p><br />
<p class="MsoNormal" style="margin: 14pt 0cm; text-indent: 24pt; line-height: 150%; mso-char-indent-count: 2.0; mso-pagination: widow-orphan"><font size="3"><span lang="EN-US" style="font-family: 宋体; mso-fareast-font-family: 文鼎PL细上海宋Uni">Qt </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体"><font face="Times">构造用户接口的方式容易理解并且非常有弹性。</font></span><span lang="EN-US" style="font-family: 宋体; mso-fareast-font-family: 文鼎PL细上海宋Uni">Qt </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体"><font face="Times">程序员最常用的模式是实例化需要的物件，然后设置它们必需的属性。程序员向布局中添加物件，布局将自动管理这些物件的大小和位置。用户接口的行为将被</font></span><span lang="EN-US" style="font-family: 宋体; mso-fareast-font-family: 文鼎PL细上海宋Uni"> Qt </span><span style="font-family: 文鼎PL细上海宋Uni; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体"><font face="Times">用信号与槽的机制连接在一起。</font></span></font><span lang="EN-US" style="font-family: 宋体; mso-fareast-font-family: 文鼎PL细上海宋Uni"><o:p></o:p></span></p>
    </td>
  </tr>
  <tr>
    <td>
      <br /><br />
      原文： <a href='http://qtchina.tk/?q=node/90'>http://qtchina.tk/?q=node/90</a>
    </td>
  </tr>

</table>

<p></p>
<p></p>
<p></p>
<table width="60%"><tr><td  align="center">
  <div>
    <span>Powered by <a href="http://qtchina.tk">zexport</a></span>  </div>
  </div>
  </td></tr></table>

<br />
<div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51467019-1', 'qtchina.github.io');
  ga('send', 'pageview');

</script>

</div>
</body>
</html>
