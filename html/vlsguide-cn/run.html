<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Running VLS</title>
  <meta name="GENERATOR"
 content="Modular DocBook HTML Stylesheet Version 1.76b+">
  <link rel="HOME" title="VLS user guide" href="vls-user-guide-en.html">
  <link rel="PREVIOUS" title="Configuration" href="config.html">
  <link rel="NEXT" title="GNU Free Documentation License"
 href="gfdl.html">
</head>
<body class="chapter"
 style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"
 link="#0000ff" vlink="#840084" alink="#0000ff">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <th colspan="3" align="center">VLS user guide</th>
    </tr>
    <tr>
      <td width="10%" align="left" valign="bottom"><a href="config.html"
 accesskey="P">上一页</a></td>
      <td width="80%" align="center" valign="bottom"><br>
      </td>
      <td width="10%" align="right" valign="bottom"><a href="gfdl.html"
 accesskey="N">下一页</a></td>
    </tr>
  </tbody>
</table>
<hr align="left" width="100%"></div>
<div class="chapter">
<h1><a name="run">Chapter 5. 运行 VLS</a></h1>
<div class="TOC">
<dl>
  <dt><a name="run"></a>内容列表</dt>
  <dt><a name="run">5.1. </a><a href="run.html#AEN632">启动 VLS</a></dt>
  <dt>5.2. <a href="run.html#AEN657">使用telnet接口</a></dt>
  <dt>5.3.<a href="run.html#AEN672">接口命令</a></dt>
</dl>
</div>
<div class="sect1">
<h1 class="sect1"><a name="AEN632">5.1. 启动 VLS</a></h1>
<p><a name="AEN632">如果你要用telnet接口，运行VLS是非常简单的：仅在控制台打入命令vls,这就够了。运行mlsd将启动VLS作为后台进程。注意，VLS会试着加载当前目录的vls.cfg文件，如果没有，它会试着加载STSCONF/etc/videolan里的配置文件
(见 </a><a href="config.html"><i>Configuration</i></a> 一节).</p>
<div class="caution">
<table class="caution" width="100%" border="0">
  <tbody>
    <tr>
      <td width="25" align="center" valign="top"><img
 src="run_file/caution.gif" hspace="5" alt="Caution"></td>
      <td align="left" valign="top">
      <p>如果你的日志文件是vls.log,VLS需要把它写在当前目录上，你看看到下而后类似信息：</p>
      <table border="0" bgcolor="#e0e0e0" width="100%">
        <tbody>
          <tr>
            <td>
            <pre class="screen"><tt class="computeroutput"><br>*** Exception *** in copy constructor (0xbffffc98, copy of 0x80e30a8)<br>Unable to open the log file "vls.log": Error: Could not open file 'vls.log':<br>Permission denied<br></tt></pre>
            <br>
            </td>
          </tr>
        </tbody>
      </table>
      <p>记住在用vls,cfg文件里的"Interface"参数时你一定要是root。</p>
      </td>
    </tr>
  </tbody>
</table>
</div>
<p>如果一切都正确，你会看到类似下面的信息：</p>
<table border="0" bgcolor="#e0e0e0" width="100%">
  <tbody>
    <tr>
      <td>
      <pre class="screen"><tt class="computeroutput"><br>VideoLAN Server v 0.5.3 (Jun  6 2003) - (c)1999-2003 VideoLAN<br>2002-03-09 17:24:51 [INFO/Vls]  Module "channel:file" registered<br>2002-03-09 17:24:51 [INFO/Vls]  Module "channel:network" registered<br>2002-03-09 17:24:51 [INFO/Vls]  Module "mpegreader:file" registered<br>2002-03-09 17:24:51 [INFO/Vls]  Module "mpegconverter:ts2ts" registered<br>[...]<br></tt></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<p>你在屏幕 (stderr)上看到的就是在日志 <tt class="filename">vls.log</tt>里的.</p>
<p>在VLS成功启动后，它不再接受任何标准输入的命令，因此可以让它在后台运行。 </p>
<p>其他情况下，如果你用命令行接口，请见<a href="http://www.videolan.org/doc/"
 target="_top">VideoLAN HOWTO</a>.</p>
</div>
<div class="sect1">
<h1 class="sect1"><a name="AEN657">5.2.使用telnet接口</a></h1>
<p><a name="AEN657">在VLS启动后，它打开一个telnet服务器 (缺省在 9999 端口上).
可用下面的命令连接到该服务器。</a></p>
<table border="0" bgcolor="#e0e0e0" width="100%">
  <tbody>
    <tr>
      <td>
      <pre class="screen"><tt class="prompt">% </tt><tt
 class="userinput"><b>telnet localhost 9999</b></tt><br>      </pre>
      </td>
    </tr>
  </tbody>
</table>
<p><a name="AEN657">可看到类似下面的一些信息：</a></p>
<table border="0" bgcolor="#e0e0e0" width="100%">
  <tbody>
    <tr>
      <td>
      <pre class="screen"><tt class="computeroutput"><br>Trying 127.0.0.1...<br>Connected to vls.<br>Escape character is '^]'.<br><br>Videolan Server Administration System<br><br>Login:<br></tt></pre>
      <br>
      </td>
    </tr>
  </tbody>
</table>
<p><a name="AEN657">然后要用定义在vls.cfg文件里的login/password对来获得认证。一旦成功，会出现下面的信息:</a></p>
<table border="0" bgcolor="#e0e0e0" width="100%">
  <tbody>
    <tr>
      <td>
      <pre class="screen"><tt class="computeroutput"><br>admin@vls&gt;<br></tt>&gt;</pre>
      </td>
    </tr>
  </tbody>
</table>
<p><a name="AEN657">接下来主可以打入下段要解释的命令。要离开，在telnet提示符后打入logout。</a></p>
</div>
<div class="sect1">
<h1 class="sect1"><a name="AEN672">5.3.接口命令</a></h1>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN674">5.3.1. help</a></h2>
<p><a name="AEN674">Usage: help [command].</a></p>
<p><a name="AEN674">无参数调用 ，它给出所有命令列表。带命令调用，它会给出该命令的详细用法。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN678">5.3.2. browse</a></h2>
<p><a name="AEN678">Usage: browse [input]</a></p>
<p><a name="AEN678">无参数调用，这给出所有输入的节目。带参数调用会给出该节目 的详细信息。每个节目都会给出其状态。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN682">5.3.3. start</a></h2>
<p><a name="AEN682">Usage: start &lt;program&gt; &lt;channel&gt;
&lt;input&gt; [--loop] [--rtp]</a></p>
<p><a name="AEN682">"start" 启动特定输入上的特定节目，通过 频道广播它。参数--loop
使这节目不停重复。参数--rtp使TS包以RTP协议发送出去产，就像在lRFC 1889 和 RFC 2250中的定义.</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN686">5.3.4. stop</a></h2>
<p><a name="AEN686">Usage: stop &lt;channel&gt;</a></p>
<p><a name="AEN686">"stop" 结束特定频道上的广播。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN690">5.3.5. forward</a></h2>
<p><a name="AEN690">Usage: forward &lt;channel&gt; &lt;speed&gt;</a></p>
<p><a name="AEN690">"forward" 以给定的速度前进。在直接读取像MPEG编码器，DVB卡，采集卡这样的设备时无效。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN694">5.3.6. rewind</a></h2>
<p><a name="AEN694">Usage: rewind &lt;channel&gt; &lt;speed&gt;</a></p>
<p><a name="AEN694">"rewind" 以给定的速度回放该频道。在直接读取MPEG编码器，DVB卡，采集卡这样的设备时无效。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN698">5.3.7. suspend</a></h2>
<p><a name="AEN698">Usage: suspend &lt;channel&gt;</a></p>
<p><a name="AEN698">"suspend" 挂起特定频道上的流传输。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN702">5.3.8. resume</a></h2>
<p><a name="AEN702">Usage: resume &lt;channel&gt;</a></p>
<p><a name="AEN702">"resume" 恢复特定频道上的流传输。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN706">5.3.9. logout</a></h2>
<p><a name="AEN706">Usage: logout</a></p>
<p><a name="AEN706">"logout" 关闭当前管理会话和远程连接。</a></p>
</div>
<div class="simplesect">
<h2 class="simplesect"><a name="AEN710">5.3.10. shutdown</a></h2>
<p><a name="AEN710">Usage: shutdown</a></p>
<p><a name="AEN710">"shutdown" 停止所有节目并关闭VLS.</a></p>
</div>
</div>
</div>
<div class="NAVFOOTER">
<hr align="left" width="100%">
<table summary="Footer navigation table" width="100%" border="0"
 cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td width="33%" align="left" valign="top"><a href="config.html"
 accesskey="P">上一节</a></td>
      <td width="34%" align="center" valign="top"><a
 href="vls-user-guide-en.html" accesskey="H">Home</a></td>
      <td width="33%" align="right" valign="top"><a href="gfdl.html"
 accesskey="N">下一节</a></td>
    </tr>
    <tr>
      <td width="33%" align="left" valign="top">配置</td>
      <td width="34%" align="center" valign="top"> <br>
      </td>
      <td width="33%" align="right" valign="top">GNU Free Documentation
License</td>
    </tr>
  </tbody>
</table>
</div>
</body>
</html>
