<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Making Connections</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a href="21021536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a><a name="ch01lev1sec2"></a>
<h3 id="title-IDAAFKEW" class="docSection1Title">Making Connections</h3>
<p class="docText">The second example shows how to respond to user actions. The application consists of a button that the user can click to quit. The source code is very similar to Hello, except that we are using a <tt>QPushButton</tt> instead of a <tt>QLabel</tt> as our main widget, and we are connecting a user action (clicking a button) to a piece of code.</p>
<p class="docText"><a name="iddle1462"></a><a name="iddle1580"></a><a name="iddle2312"></a><a name="iddle4039"></a><a name="iddle4598"></a><a name="iddle4775"></a><a name="iddle5421"></a><a name="iddle5423"></a><a name="iddle6291"></a><a name="iddle6310"></a><a name="iddle6357"></a><a name="iddle6375"></a>This application's source code is on the CD in the file <tt>/examples/chap01/quit/quit.cpp</tt>. Here's the contents of the file:</p>
<div class="docText"><pre>
 1 #include &lt;QApplication&gt;
 2 #include &lt;QPushButton&gt;
 3 int main(int argc, char *argv[])
 4 {
 5     QApplication app(argc, argv);
 6     QPushButton *button = new QPushButton("Quit");
 7     QObject::connect(button, SIGNAL(clicked()),
 8                      &amp;app, SLOT(quit()));
 9     button-&gt;show();
10     return app.exec();
11 }
</pre></div><br>
<p class="docText">Qt's widgets emit <span class="docEmphasis">signals</span> to indicate that a user action or a change of state has occurred.<sup class="docFootnote"><a class="docLink" href="#ch01fn2">[*]</a></sup> For instance, <tt>QPushButton</tt> emits a <tt>clicked()</tt> signal when the user clicks the button. A signal can be connected to a function (called a <span class="docEmphasis">slot</span> in that context), so that when the signal is emitted, the slot is automatically executed. In our example, we connect the button's <tt>clicked()</tt> signal to the <tt>QApplication</tt> object's <tt>quit()</tt> slot. The <tt>SIGNAL()</tt> and <tt>SLOT()</tt> macros are part of the syntax; they are explained in more detail in the next chapter.</p><blockquote><p class="docFootnote"><sup><a name="ch01fn2">[*]</a></sup> Qt signals are unrelated to Unix signals. In this book, we are only concerned with Qt signals.</p></blockquote>
<a name="ch01fig03"></a><p><center>

<h5 class="docFigureTitle">Figure 1.3. The Quit application</h5>

<p class="docText">
<img border="0" alt="" width="102" height="53" SRC="images/quit.jpg"></p>

</center></p><br>
<p class="docText">We will now build the application. We assume that you have created a directory called <tt>quit</tt> containing <tt>quit.cpp</tt>. Run <tt>qmake</tt> in the <tt>quit</tt> directory to generate the project file, then run it again to generate a makefile, as follows:</P>
<div class="docText"><pre>
qmake -project
qmake quit.pro
</pre></div><BR>
<p class="docText">Now build the application, and run it. If you click Quit, or press Space (which presses the button), the application will terminate.</P>

<a href="21021536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec1.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch01lev1sec3.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<div style="display:none"><center><a href="http://sourceforge.net/donate/index.php?group_id=186258"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /> </a>|<script src='http://s34.cnzz.com/stat.php?id=626330&web_id=626330&show=pic2' language='JavaScript' charset='gb2312'></script></center></script></div></body></html>