<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Scrolling Areas</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="ch06lev1sec4"></a>
<h3 id="title-IDARY1ZV" class="docSection1Title">Scrolling Areas</h3>
<p class="docText">The <tt>QScrollArea</tt> class provides a scrollable viewport and two scroll bars. If we want to add scroll bars to a widget, it is much simpler to use a <tt>QScrollArea</tt> than to instantiate our own <tt>QScrollBar</tt>s and implement the scrolling functionality ourselves.</p>
<a name="ch06fig11"></a><p><center>

<h5 class="docFigureTitle">Figure 6.11. <tt>QScrollArea</tt>'s constituent widgets</h5>

<p class="docText">
<img border="0" alt="" id="195131084199" width="280" height="194" SRC="images/qscrollarea_s.jpg"></p>

</center></p><br>
<p class="docText"><a name="iddle2725"></a><a name="iddle3558"></a><a name="iddle4818"></a><a name="iddle4819"></a><a name="iddle4820"></a><a name="iddle4821"></a><a name="iddle4824"></a><a name="iddle5098"></a><a name="iddle5809"></a><a name="iddle5949"></a><a name="iddle6104"></a><a name="iddle6221"></a><a name="iddle6230"></a><a name="iddle6231"></a><a name="iddle7143"></a><a name="iddle7146"></a><a name="iddle7243"></a>The way to use <tt>QScrollArea</tt> is to call <tt>setWidget()</tt> with the widget we want to add scroll bars to. <tt>QScrollArea</tt> automatically reparents the widget to make it a child of the viewport (accessible through <tt>QScrollArea::viewport()</tt>) if it isn't already. For example, if we want scroll bars around the <tt>IconEditor</tt> widget we developed in <a class="docLink" href="ch05.html#ch05">Chapter 5</a>, we can write this:</p>
<div class="docText"><pre>
int main(int argc, char *argv[])
{
    QApplication app(argc, argv);
    IconEditor *iconEditor = new IconEditor;
    iconEditor-&gt;setIconImage(QImage(":/images/mouse.png"));
    QScrollArea scrollArea;
    scrollArea.setWidget(iconEditor);
    scrollArea.viewport()-&gt;setBackgroundRole(QPalette::Dark);
    scrollArea.viewport()-&gt;setAutoFillBackground(true);
    scrollArea.setWindowTitle(QObject::tr("Icon Editor"));
    scrollArea.show();
    return app.exec();
}
</pre></div><br>
<p class="docText">The <tt>QScrollArea</tt> presents the widget at its current size or uses the size hint if the widget hasn't been resized yet. By calling <tt>setWidgetResizable(true)</tt>, we can tell <tt>QScrollArea</tt> to automatically resize the widget to take advantage of any extra space beyond its size hint.</p>
<p class="docText">By default, the scroll bars are only displayed when the viewport is smaller than the child widget. We can force the scroll bars to always be shown by setting scroll bar policies:</p>
<div class="docText"><pre>
scrollArea.setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOn);
scrollArea.setVerticalScrollBarPolicy(Qt::ScrollBarAlwaysOn);
</pre></div><BR>
<a name="ch06fig12"></a><P><center>

<H5 class="docFigureTitle">Figure 6.12. Resizing a <tt>QScrollArea</tt></H5>

<p class="docText">
<img border="0" alt="" id="195131084199" width="500" height="278" SRC="images/qscrollarea.jpg"></P>

</center></p><br>
<p class="docText"><a name="iddle1974"></a><a name="iddle1976"></a><a name="iddle3260"></a><a name="iddle3971"></a><a name="iddle3989"></a><a name="iddle4224"></a><a name="iddle4490"></a><a name="iddle4496"></a><a name="iddle4499"></a><a name="iddle6082"></a><a name="iddle6838"></a><a name="iddle6878"></a><a name="iddle7294"></a><tt>QScrollArea</tt> inherits much of its functionality from <tt>QAbstractScrollArea</tt>. Classes like <tt>QTextEdit</tt> and <tt>QAbstractItemView</tt> (the base class of Qt's item view classes) derive from <tt>QAbstractScrollArea</tt>, so we don't need to wrap them in a <tt>QScrollArea</tt> to get scroll bars.</p>

</TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec3.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=ch06lev1sec5.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<div style="display:none"><center><a href="http://sourceforge.net/donate/index.php?group_id=186258"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /> </a>|<script src='http://s34.cnzz.com/stat.php?id=626330&web_id=626330&show=pic2' language='JavaScript' charset='gb2312'></script></center></script></div></body></html>